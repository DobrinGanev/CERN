{"version":3,"sources":["apiCaller.spec.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"apiCaller.spec.js","sourcesContent":["// import test from 'ava';\n// import nock from 'nock';\n// import fetch from 'isomorphic-fetch';\n// import http from \"http\";\n//\n// const API_URL = \"http://mytest.com\";\n//\n// export default function callApi(endpoint, method = 'get', body) {\n//   return fetch(`${API_URL}/${endpoint}`, {\n//     headers: { 'content-type': 'application/json' },\n//     method,\n//     body: JSON.stringify(body),\n//   })\n//   .then(response => response.json().then(json => ({ json, response })))\n//   .then(({ json, response }) => {\n//     if (!response.ok) {\n//       return Promise.reject(json);\n//     }\n//     return json;\n//   })\n//   .then(\n//     response => response,\n//     error => error\n//   );\n// }\n//\n//\n// test('method defaults to GET', t => {\n//   var reply = {\n//     message : \"hello world\"\n//   }\n//  nock(API_URL)\n//       .get(\"/test\")\n//       .reply(200,reply);\n//     return callApi('test').then(response => {\n//          t.deepEqual(response, reply);\n//      });\n// });\n//\n// test('sends the body', t => {\n//   const body = { id: 5 };\n//   const reply = { foo: 'bar' };\n//   nock(API_URL)\n//     .post('/foo', body)\n//     .reply(200, reply);\n//   return callApi('foo', 'post', body).then(response => {\n//     t.deepEqual(response, reply);\n//   });\n// });\n//\n// test('returns the error', t => {\n//   const reply = { message: 'Errrrrrrrrr' };\n//   nock(API_URL)\n//     .get('/send_error')\n//     .reply(500, reply);\n//   return callApi('send_error').then(error => {\n//     t.deepEqual(error, reply);\n//   });\n// });\n"]}